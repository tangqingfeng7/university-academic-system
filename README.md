# 大学教务管理系统

[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.2.0-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![Vue.js](https://img.shields.io/badge/Vue.js-3.x-4FC08D.svg)](https://vuejs.org/)
[![MySQL](https://img.shields.io/badge/MySQL-8.0-blue.svg)](https://www.mysql.com/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

## 📋 项目简介

大学教务管理系统是一个基于Spring Boot + Vue 3 + MySQL的现代化教务管理平台，采用前后端集成的单体架构。系统支持管理员、教师、学生三种角色，提供完整的教务管理功能。

### 核心功能

- 🔐 **用户认证与授权**：基于JWT的安全认证，支持角色权限控制
- 👥 **用户管理**：学生管理、教师管理、用户信息维护
- 📚 **课程管理**：课程信息管理、先修课程设置、开课计划
- 📝 **选课系统**：在线选课、退课、时间冲突检测、人数限制
- 📊 **成绩管理**：成绩录入、成绩查询、成绩单生成、统计分析
- 📅 **课表查询**：个人课表、课程安排、导出功能
- 📝 **考试管理**：考试计划、考场安排、监考管理、自动分配学生
- 📢 **通知公告**：系统通知、课程通知、考试通知、消息推送
- 📈 **数据统计**：学生统计、课程统计、成绩分析、教师工作量

### 扩展功能模块

- ⭐ **教学评价模块**：课程评价、教师评价、匿名评价、评价统计、教学质量报告
- 🏢 **教室资源管理**：教室管理、教室借用、使用情况查询、冲突检测、使用率统计
- 📋 **学籍异动管理**：休学申请、复学申请、转专业申请、退学申请、多级审批流程
- 📝 **请假管理**：学生请假申请、教师审批、请假记录查询
- 💰 **学费缴纳模块**：学费标准设置、账单生成、在线缴费、线下缴费录入、退费管理、财务统计
- 🎓 **毕业审核模块**：自动学分统计、毕业资格审核、批量审核、毕业进度跟踪、毕业生名单导出

## 🏗️ 技术架构

### 后端技术栈

- **核心框架**：Spring Boot 3.2.0
- **安全框架**：Spring Security + JWT
- **持久层**：Spring Data JPA + Hibernate
- **数据库**：MySQL 8.0
- **缓存**：Caffeine Cache
- **构建工具**：Maven 3.6+
- **文档生成**：Apache POI (Excel)、iText (PDF)

### 前端技术栈

- **框架**：Vue 3 (Composition API)
- **路由**：Vue Router 4
- **状态管理**：Pinia
- **UI组件**：Element Plus
- **HTTP客户端**：Axios
- **构建工具**：Vite

### 性能优化

#### 后端优化
- ✅ **缓存策略**：Spring Cache + Caffeine多级缓存，默认30分钟过期
- ✅ **批量操作**：考试学生分配采用批量保存，减少数据库往返
- ✅ **乐观锁**：考场容量控制使用@Version乐观锁，防止并发冲突
- ✅ **查询优化**：JOIN FETCH避免N+1查询，批量删除使用@Modifying
- ✅ **连接池**：HikariCP高性能数据库连接池
- ✅ **索引优化**：关键字段添加数据库索引，提升查询速度

#### 前端优化
- ✅ **路由懒加载**：Vue Router按需加载组件
- ✅ **状态缓存**：Keep-alive缓存页面状态
- ✅ **防抖节流**：搜索输入防抖优化
- ✅ **虚拟滚动**：大数据列表渲染优化（备选）

#### 性能提升
- 📈 1000+学生自动分配性能提升 **>90%**
- 📈 缓存命中查询性能提升 **>95%**  
- 📈 批量删除操作性能提升 **>80%**

## 📁 项目结构

```
university-academic-system/
├── src/
│   ├── main/
│   │   ├── java/com/university/academic/
│   │   │   ├── config/          # 配置类（Security、Cache等）
│   │   │   ├── controller/      # REST API控制器
│   │   │   ├── service/         # 业务逻辑层
│   │   │   ├── repository/      # 数据访问层
│   │   │   ├── entity/          # JPA实体类
│   │   │   ├── dto/             # 数据传输对象
│   │   │   ├── vo/              # 视图对象
│   │   │   ├── security/        # 安全相关（JWT、Filter）
│   │   │   ├── exception/       # 异常处理
│   │   │   └── util/            # 工具类
│   │   └── resources/
│   │       ├── application.yml       # 主配置文件
│   │       ├── application-dev.yml   # 开发环境配置
│   │       ├── application-prod.yml  # 生产环境配置
│   │       └── db/migration/         # 数据库脚本
│   └── frontend/
│       ├── src/
│       │   ├── views/           # 页面组件
│       │   ├── components/      # 公共组件
│       │   ├── router/          # 路由配置
│       │   ├── stores/          # Pinia状态管理
│       │   ├── api/             # API接口封装
│       │   └── utils/           # 工具函数
│       ├── package.json
│       └── vite.config.js
└── pom.xml                      # Maven配置
```

## 🚀 快速开始

### 环境要求

- JDK 17+
- Maven 3.6+
- MySQL 8.0+
- Node.js 16+ & npm 8+

### 1. 克隆项目

```bash
git clone https://github.com/tangqingfeng7/university-academic-system
cd university-academic-system
```

### 2. 配置数据库

创建数据库：
```sql
CREATE DATABASE academic_system CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

导入初始化脚本：
```bash
mysql -u root -p academic_system < src/main/resources/db/migration/schema.sql
mysql -u root -p academic_system < src/main/resources/db/migration/test_data.sql
```

### 3. 配置应用

编辑 `src/main/resources/application-dev.yml`：
```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/academic_system
    username: root
    password: your_password
```

### 4. 启动后端

```bash
# 使用Maven
mvn spring-boot:run

# 或者先打包再运行
mvn clean package
java -jar target/academic-system.jar
```

后端服务将在 http://localhost:8080 启动

### 5. 启动前端（开发模式）

```bash
cd src/frontend
npm install
npm run dev
```

前端开发服务器将在 http://localhost:5173 启动

### 6. 访问系统

打开浏览器访问：http://localhost:5173

默认账户：
- **管理员**：admin / admin123
- **教师**：T001 / 123456
- **学生**：S000001 / 123456

## 📦 部署

### 生产环境打包

```bash
# 后端打包（包含前端构建）
mvn clean package -Pprod

# 生成的jar文件
target/academic-system.jar
```

### 运行生产环境

```bash
# 设置环境变量
export SPRING_PROFILES_ACTIVE=prod
export DB_HOST=your-db-host
export DB_PORT=3306
export DB_NAME=academic_system
export DB_USERNAME=your-username
export DB_PASSWORD=your-password
export JWT_SECRET=your-secret-key

# 启动应用
java -jar target/academic-system.jar
```

详细部署文档请参考：[DEPLOY.md](DEPLOY.md)

## 📚 API文档

启动应用后访问：
- Swagger UI: http://localhost:8080/swagger-ui.html
- API Docs: http://localhost:8080/v3/api-docs

## 🔑 核心功能说明

### 考试管理模块（新增）

#### 功能特性
- **考试计划管理**
  - 创建考试（期中/期末/补考/重修）
  - 考试时间安排和时长设置
  - 考试状态自动管理（草稿→已发布→进行中→已结束）
  
- **考场管理**
  - 手动创建考场
  - 批量自动创建考场
  - 考场容量控制
  - 考场时间冲突检测
  
- **学生分配**
  - 自动分配学生到考场（按学号排序）
  - 自动生成座位号（A01、A02...）
  - 学生考试冲突检测
  - 支持重新分配
  
- **监考管理**
  - 添加主监考/副监考教师
  - 教师时间冲突检测
  - 监考任务统计
  - 监考安排导出

#### 智能化特性
- ⚡ **自动化分配**：一键完成1000+学生的考场和座位分配
- 🔍 **冲突检测**：智能检测学生、考场、教师的时间冲突
- 📊 **状态管理**：定时任务自动更新考试状态
- 🔔 **通知推送**：考试发布自动通知相关师生

### 教学评价模块（新增）

#### 功能特性
- **课程评价**
  - 学生对已修课程进行评价
  - 支持1-5星评分和文字评价
  - 支持匿名评价和实名评价
  
- **教师评价**
  - 多维度教师评价（教学能力、教学态度、教学内容）
  - 匿名保护机制
  - 评价数据统计分析
  
- **评价管理**
  - 按学期设置评价周期
  - 评价开放时间管理
  - 评价数据查询和导出
  
- **质量分析**
  - 自动生成教学质量报告
  - 课程评分统计和趋势分析
  - 教师教学质量评估

### 教室资源管理模块（新增）

#### 功能特性
- **教室管理**
  - 教室信息维护（编号、楼栋、容量、类型、设备）
  - 教室状态管理（可用、维修、停用）
  - 教室类型分类（普通教室、多媒体教室、实验室、会议室）
  
- **教室借用**
  - 在线借用申请（教师/部门）
  - 时间冲突智能检测
  - 多级审批流程
  - 借用状态跟踪
  
- **使用情况**
  - 教室课表查询
  - 实时占用情况显示
  - 可用教室快速查询
  
- **统计分析**
  - 教室使用率统计
  - 周使用率和学期使用率
  - 使用率报告生成

### 学籍异动管理模块（新增）

#### 功能特性
- **异动申请**
  - 休学申请（记录原因、起止时间）
  - 复学申请（验证休学状态）
  - 转专业申请（条件检查、目标专业）
  - 退学申请（确认机制）
  
- **审批流程**
  - 三级审批（辅导员→院系→教务处）
  - 支持批准、拒绝、退回修改
  - 审批进度实时通知
  
- **状态管理**
  - 自动更新学生学籍状态
  - 休学期间限制学业操作
  - 转专业后更新培养计划
  
- **记录查询**
  - 学生异动历史查询
  - 按类型、时间、状态筛选
  - 异动统计报告

### 请假管理模块（新增）

#### 功能特性
- **请假申请**
  - 在线提交请假申请
  - 记录请假类型、时间、原因
  - 支持上传证明材料
  
- **审批管理**
  - 教师/辅导员审批
  - 审批意见记录
  - 审批结果通知
  
- **记录查询**
  - 学生查看请假记录
  - 教师查看学生请假情况
  - 请假统计分析

### 学费缴纳模块（新增）

#### 功能特性
- **学费标准管理**
  - 按专业、年级配置学费标准
  - 包含学费、住宿费、教材费等费用项
  - 支持批量设置和历史记录
  
- **账单管理**
  - 自动生成学费账单
  - 批量账单生成（1000+学生）
  - 账单状态管理（未缴、部分缴、已缴、逾期）
  - 欠费提醒自动发送
  
- **在线缴费**
  - 多种支付方式（支付宝、微信、银行卡）
  - 电子收据自动生成
  - 缴费记录实时更新
  
- **线下缴费**
  - 线下缴费录入
  - 缴费凭证管理
  - 操作员记录
  
- **退费管理**
  - 退费申请提交
  - 多级审批流程
  - 退费记录查询
  
- **财务统计**
  - 缴费率统计（按院系、专业、年级）
  - 财务报表生成
  - 欠费统计分析
  - 数据导出功能

### 毕业审核模块（新增）

#### 功能特性
- **毕业要求管理**
  - 按专业、年级配置毕业要求
  - 总学分、必修学分、选修学分、实践学分要求
  - 其他附加要求配置（JSON格式）
  
- **自动审核**
  - 自动统计学生学分（必修、选修、实践、任选）
  - 自动检查必修课完成情况
  - 自动检查违纪处分情况
  - 批量审核支持（500+学生）
  
- **学分汇总**
  - 实时学分统计
  - 分类学分展示
  - 学分变更自动更新
  - 学分汇总缓存优化
  
- **毕业进度跟踪**
  - 各类学分完成进度
  - 未完成必修课列表
  - 毕业差距分析
  - 可视化进度展示
  
- **审核结果管理**
  - 审核状态管理（通过、不通过、待审核、延期）
  - 不通过原因详细记录
  - 审核历史追溯
  - 毕业生名单导出

#### 智能化特性
- ⚡ **自动化审核**：一键完成所有学生的毕业资格审核
- 📊 **智能统计**：自动统计各类学分，无需人工计算
- 🔍 **条件检测**：智能检测必修课、学分、处分等多维度条件
- 📈 **进度可视化**：直观展示毕业进度和完成情况

### 管理端功能
**基础功能**
- 学生信息管理（CRUD、导入导出）
- 教师信息管理
- 课程管理与先修课程设置
- 开课计划管理（排课、冲突检测）
- 学期管理
- 院系专业管理
- 考试管理（考试计划、考场安排、监考分配、冲突检测）
- 自动化功能（自动创建考场、自动分配学生）
- 系统配置
- 操作日志查询
- 数据统计与报表

**扩展功能**
- 教学评价管理（评价周期设置、评价数据查询、教学质量报告）
- 教室资源管理（教室信息管理、借用审批、使用率统计）
- 学籍异动审批（休学、复学、转专业、退学审批）
- 请假审批管理（请假申请审批、请假记录查询）
- 学费管理（学费标准设置、账单生成、线下缴费录入、退费审批、财务统计）
- 毕业审核管理（毕业要求设置、毕业审核、批量审核、毕业生名单导出）

### 教师端功能
**基础功能**
- 我的课程管理
- 成绩录入与管理
- 成绩批量导入
- 监考任务查询
- 课程考试查看
- 课程通知发布
- 我的课表查询

**扩展功能**
- 教室借用申请（查询可用教室、提交借用申请、查看申请状态）
- 学生请假审批（审批学生请假、查看请假记录）
- 教学评价查看（查看课程评价统计、教学质量反馈）

### 学生端功能
**基础功能**
- 在线选课退课
- 我的课表查询
- 我的考试安排
- 考场座位查询
- 成绩查询
- 成绩单导出
- 通知公告查看

**扩展功能**
- 课程评价（评价已修课程、评价授课教师、查看我的评价）
- 学籍异动申请（休学、复学、转专业申请、查看申请进度）
- 请假申请（提交请假申请、查询请假记录、查看审批状态）
- 学费缴纳（查看账单、在线缴费、缴费记录查询、电子收据下载、退费申请）
- 毕业审核（查看审核结果、学分汇总、毕业进度跟踪）

## 🎯 系统特色

1. **安全性**
   - JWT无状态认证
   - BCrypt密码加密
   - RBAC权限控制
   - 操作日志记录

2. **性能优化**
   - 多级缓存机制（Caffeine Cache）
   - 批量操作优化（减少数据库往返>90%）
   - 乐观锁并发控制（@Version防冲突）
   - 数据库索引优化
   - 前端路由懒加载
   - 防抖节流优化

3. **智能化功能**
   - 自动考场分配算法
   - 智能冲突检测（时间、考场、教师）
   - 自动学生座位分配
   - 考试状态自动更新

4. **用户体验**
   - 响应式设计
   - 实时数据更新
   - 友好的错误提示
   - 快捷操作支持
   - 一键批量操作

5. **可维护性**
   - 清晰的分层架构
   - 完善的异常处理
   - 详细的代码注释
   - 标准化的API设计
   - 数据库迁移脚本

## 🛠️ 开发指南

### 代码规范

- 遵循阿里巴巴Java开发规范
- 使用ESLint + Prettier格式化前端代码
- 所有API接口返回统一格式
- Service层方法添加事务注解
- 重要操作添加操作日志

### 数据库规范

- 所有表必须有主键和索引
- 使用软删除而非物理删除
- 添加created_at和updated_at字段
- 外键关联使用@ManyToOne/@OneToMany

### 测试

```bash
# 运行后端测试
mvn test

# 运行前端测试
cd src/frontend
npm run test
```

## 📝 许可证

本项目采用 MIT 许可证 - 详见 [LICENSE](LICENSE) 文件

## 👥 贡献

欢迎提交 Issue 和 Pull Request！

## 📧 联系方式

如有问题或建议，请联系：
- Email: traceck1@gmail.com
- Issue: https://github.com/tangqingfeng7/university-academic-system/issues

## 🙏 致谢

感谢所有开源项目的贡献者！

---

## 📋 版本历史

### v1.4.0 (2025-10-11)
**新增模块**
- ✨ 毕业审核模块（自动学分统计、毕业资格审核、批量审核）

**功能特性**
- 🎓 自动毕业资格审核（学分统计、必修课检查、违纪处分检查）
- 🎓 学分分类统计（必修、选修、实践、任选）
- 🎓 批量毕业审核支持
- 🎓 毕业要求配置管理
- 🎓 毕业进度实时跟踪
- 🎓 毕业生名单导出

**数据库更新**
- 📊 新增毕业审核表（graduation_audit、graduation_requirement、student_credit_summary）
- 📊 学分统计优化和缓存机制
- 📊 毕业审核索引优化

### v1.3.0 (2025-10-11)
**新增模块**
- ✨ 学费缴纳模块（学费标准设置、账单管理、在线缴费、退费管理）

**功能特性**
- 💰 多种支付方式支持（支付宝、微信、银行卡、现金、银行转账）
- 💰 自动账单生成和欠费提醒
- 💰 电子收据自动生成
- 💰 退费申请与审批流程
- 💰 财务统计和报表导出

**数据库更新**
- 📊 新增学费相关表（tuition_standard、tuition_bill、tuition_payment、tuition_refund_application）
- 📊 财务数据统计视图优化
- 📊 缴费记录索引优化

### v1.2.0 (2025-10-10)
**扩展模块**
- ✨ 教学评价模块（课程评价、教师评价、匿名评价、评价统计）
- ✨ 教室资源管理模块（教室管理、教室借用、使用率统计）
- ✨ 学籍异动管理模块（休学、复学、转专业、退学申请与审批）
- ✨ 请假管理模块（请假申请、审批、记录查询）

**功能增强**
- 🔧 多级审批流程支持（辅导员→院系→教务处）
- 🔧 时间冲突智能检测（教室借用、学生异动）
- 🔧 评价周期管理和数据统计分析
- 🔧 审批状态实时通知推送

**数据库优化**
- 📊 新增评价相关表（course_evaluation、teacher_evaluation、evaluation_period）
- 📊 新增教室管理表（classroom、classroom_booking、classroom_usage_log）
- 📊 新增学籍异动表（student_status_change、status_change_approval）
- 📊 新增请假管理表（leave_request）
- 📊 外键约束优化和索引优化

### v1.1.0 (2025-10-09)
**新增功能**
- ✨ 考试管理模块（考试计划、考场安排、监考管理）
- ✨ 自动考场创建和学生分配功能
- ✨ 考试时间冲突智能检测
- ✨ 考试通知系统集成

**性能优化**
- ⚡ 批量操作优化，1000+学生分配性能提升>90%
- ⚡ Caffeine缓存集成，查询性能提升>95%
- ⚡ 乐观锁并发控制，保证数据一致性
- ⚡ 数据库查询优化，批量删除性能提升>80%

### v1.0.0 (2025-10-08)
- 🎉 初始版本发布
- ✅ 用户管理、课程管理、选课系统
- ✅ 成绩管理、课表查询、通知系统

---

**当前版本**: v1.4.0  
**最后更新**: 2025-10-11

## 🗺️ 开发路线图

### 已完成 ✅
- [x] 用户认证与授权系统
- [x] 课程管理与选课系统
- [x] 成绩管理与统计分析
- [x] 考试管理与自动分配
- [x] 教学评价模块
- [x] 教室资源管理模块
- [x] 学籍异动管理模块
- [x] 请假管理模块
- [x] 学费缴纳模块
- [x] 毕业审核模块

### 开发中 🚧
- [ ] 实验室管理模块（实验室和实验课程管理）
- [ ] 奖学金评定模块（自动化奖学金评定流程）

### 计划中 📅
- [ ] 排课优化模块（智能排课算法）
- [ ] 教师工作量统计模块
- [ ] 学生综合测评模块
- [ ] 移动端应用开发
